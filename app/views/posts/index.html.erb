<% content_for(:title, t('.title')) %>
<div class="bg-cream">
  <div class="container mx-auto pt-10">
<%= search_form_for @q, url: posts_path, method: :get, class: 'flex flex-wrap items-center mt-1 space-y-2 sm:space-y-0 sm:space-x-2' do |f| %>
  <%= f.search_field :cafe_name_cont, id: "search-input",
    class: "w-full sm:w-auto flex-1 px-4 py-2 border border-brown rounded text-brown placeholder:text-brown focus:outline-none focus:ring-2 focus:ring-brown",
    placeholder: "カフェ名を入力",
    autocomplete: "off" %>
  <button id="search-button" class="w-full sm:w-auto px-4 py-2 bg-brown text-white rounded border border-brown hover:bg-opacity-90 transition duration-300 flex items-center justify-center">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
<% end %>


    <ul id="autocomplete-results" class="absolute mt-1 max-h-60 bg-cream text-brown shadow-lg rounded border w-full hidden">
    </ul>
    <script src="/assets/autocomplete.js"></script>


    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 pt-8 pb-8">
      <% @posts.each do |post| %>
          <%= render 'commons/post', post: post %>
      <% end %>
    </div>

  </div>
  <%= link_to new_post_path do %>
    <div class="bg-teal border-4 border-white p-4 rounded-full shadow-lg fixed bottom-2 right-2 flex items-center justify-center w-16 h-16 hover:opacity-70">
      <i class="fa fa-plus text-white text-2xl"></i>
    </div>
  <% end %>
</div>
