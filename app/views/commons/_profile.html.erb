<body class="bg-cream">
  <div class="container mt-6 mx-auto p-4 flex justify-center">
    <div class="flex flex-col items-center bg-white rounded-lg px-24 py-10">
      <div class="flex items-center space-x-4 mb-4">
        <% if @profile&.avatar&.attached? %>
          <%= image_tag @profile.avatar, class: 'w-12 h-12 border rounded-full' %>
        <% else %>
          <%= image_tag 'profile.png', class: 'w-12 h-12 border rounded-full' %>
        <% end %>
        <div>
          <h2 class="text-xl text-brown font-semibold mb-2">
            <%= @profile&.nickname.presence || @user&.display_name || 'ニックネーム：未記入' %>
          </h2>
          <p class="text-gray-600 text-14">
            <%= @profile&.mbti || 'MBTI:未記入' %> |
            <%= @profile&.address || '居住地：未記入' %>
          </p>
        </div>
      </div>

      <p class="mb-2 text-gray-800 text-center text-14">
        <%= @profile&.introduction || '自己紹介：未記入' %>
      </p>


      <div class="flex justify-center space-x-4 mt-6">
        <% if @profile&.x_link.present? %>
          <%= link_to @profile.x_link, class: 'text-blue-500 hover:text-blue-700', target: "_blank", rel: "noopener" do %>
            <i class="fa-brands fa-x-twitter text-2xl text-brown"></i>
          <% end %>
        <% end %>
        <% if @profile&.instagram_link.present? %>
          <%= link_to @profile.instagram_link, class: 'text-pink-500 hover:text-pink-700', target: "_blank", rel: "noopener" do %>
            <i class="fa-brands fa-instagram text-2xl text-brown"></i>
          <% end %>
        <% end %>
      </div>
       <div class="flex justify-center space-x-4 mt-6">
  <% if current_user == @user %> <!-- current_userと@userが一致する時のみ表示 -->
    <%= link_to image_tag('edit.png', alt: '編集', class: 'w-6 h-6 cursor-pointer'), edit_profile_path %>
  <% end %>
</div>

        </div>
    </div>
  </div>



 <div class="container mx-auto grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 pt-8 pb-8">
    <% @posts.each do |post| %>
      <%= render 'commons/post', post: post %>
     <% end %>
</div>
